---
version: 2

include:
    - common/acls.yaml

acls:
    # ACL rule for dropping protocols other than IPv6
    ipv6_only:
        # Allow IPv6 traffic
        - rule:
            dl_type: 0x86dd              # ipv6
            actions:
                allow: 1                 # allow
        # Drop other protocols
        - rule:
            actions:
                allow: 0                 # drop

vlans:
    redcables:
        name: "redcables"
        description: "redcables ipv4/ipv6 vlan"
        vid: 250
        max_hosts: 255
    redcables6:
        name: "redcables6"
        description: "redcables ipv6 vlan"
        vid: 251
        max_hosts: 255
        acl_in: ipv6_only
    control:
        name: "control"
        description: "openflow control vlan"
        vid: 99
        max_hosts: 255

dps:
    cisco-9300-1:
        dp_id: 0x701f53017300
        description: "cisco-9300-1"
        hardware: "CiscoC9K"
        ignore_learn_ins: 0
        group_table: False
        combinatorial_port_flood: False
        drop_spoofed_faucet_mac: False
        interfaces:
            1:
                name: "Gi1/0/1"
                native_vlan: redcables
                acl_in: protect_from_access
            2:
                name: "Gi1/0/2"
                native_vlan: redcables
                acl_in: protect_from_access
            3:
                name: "Gi1/0/3"
                native_vlan: redcables
                acl_in: protect_from_access
            4:
                name: "Gi1/0/4"
                native_vlan: redcables
                acl_in: protect_from_access
            5:
                name: "Gi1/0/5"
                native_vlan: redcables
                acl_in: protect_from_access
            6:
                name: "Gi1/0/6"
                native_vlan: redcables
                acl_in: protect_from_access
            7:
                name: "Gi1/0/7"
                native_vlan: redcables
                acl_in: protect_from_access
            8:
                name: "Gi1/0/8"
                native_vlan: redcables
                acl_in: protect_from_access
            9:
                name: "Gi1/0/9"
                native_vlan: redcables
                acl_in: protect_from_access
            10:
                name: "Gi1/0/10"
                native_vlan: redcables
                acl_in: protect_from_access
            11:
                name: "Gi1/0/11"
                native_vlan: redcables
                acl_in: protect_from_access
            12:
                name: "Gi1/0/12"
                native_vlan: redcables
                acl_in: protect_from_access
            13:
                name: "Gi1/0/13"
                native_vlan: redcables
                acl_in: protect_from_access
            14:
                name: "Gi1/0/14"
                native_vlan: redcables
                acl_in: protect_from_access
            15:
                name: "Gi1/0/15"
                native_vlan: redcables
                acl_in: protect_from_access
            16:
                name: "Gi1/0/16"
                native_vlan: redcables
                acl_in: protect_from_access
            17:
                name: "Gi1/0/17"
                native_vlan: redcables
                acl_in: protect_from_access
            18:
                name: "Gi1/0/18"
                native_vlan: redcables
                acl_in: protect_from_access
            19:
                name: "Gi1/0/19"
                native_vlan: redcables
                acl_in: protect_from_access
            20:
                name: "Gi1/0/20"
                native_vlan: redcables
                acl_in: protect_from_access
            21:
                name: "Gi1/0/21"
                native_vlan: redcables
                acl_in: protect_from_access
            24:
                name: "Gi1/0/24"
                description: "cisco-9300 trunk"
                tagged_vlans: [redcables,redcables6,control]
